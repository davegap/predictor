# ğŸ§¥ Proyecto_Chaquetas - PredicciÃ³n de Ventas con Machine Learning

Este repositorio contiene un proyecto de machine learning orientado a predecir la cantidad de ventas de chaquetas a partir de caracterÃ­sticas como temporada, precio, promociÃ³n, fecha de venta, entre otras.

## ğŸ“ Estructura del proyecto

```
Proyecto_Chaquetas/
â”œâ”€â”€ graficos/                   # ImÃ¡genes generadas por visualizaciÃ³n
â”œâ”€â”€ modelos/                    # Modelos entrenados y optimizados (.pkl)
â”œâ”€â”€ dataset.csv                 # Datos histÃ³ricos de ventas
â”œâ”€â”€ train.py                    # Entrenamiento de modelos base
â”œâ”€â”€ optimize_model.py           # OptimizaciÃ³n de los mejores modelos
â”œâ”€â”€ visualizar_resultados.py    # ComparaciÃ³n visual de modelos
â”œâ”€â”€ api.py                      # PredicciÃ³n manual desde consola
â”œâ”€â”€ requirements.txt            # LibrerÃ­as necesarias
â”œâ”€â”€ Dockerfile                  # ConfiguraciÃ³n de contenedor Docker
â””â”€â”€ README.md                   # DescripciÃ³n del proyecto
```

## âš™ï¸ Requisitos

- Python 3.10 o superior
- Se recomienda uso de entorno virtual (`venv` o `conda`)

InstalaciÃ³n de dependencias:

```bash
pip install -r requirements.txt
```

---

## ğŸš€ Instrucciones de uso

### 1. Entrenar los modelos â€“ `train.py`

```bash
python train.py
```

Este script se encarga de:

- Cargar el archivo `dataset.csv` con los datos histÃ³ricos.
- Entrenar 5 modelos de machine learning:
  - `LinearRegression`
  - `DecisionTreeRegressor`
  - `KNeighborsRegressor`
  - `RandomForestRegressor`
  - `GradientBoostingRegressor`
- Evaluar cada modelo utilizando mÃ©tricas como **RÂ² Score** y **MSE**.
- Guardar los modelos entrenados en la carpeta `modelos/` como archivos `.pkl`.
- Generar un archivo `resultados_modelos.csv` con las mÃ©tricas de evaluaciÃ³n de cada modelo.

ğŸ“ **Resultado esperado**:
- Carpeta `modelos/` con 5 archivos `.pkl`
- Archivo `resultados_modelos.csv` con la tabla comparativa de desempeÃ±o de los modelos.

---

### 2. Optimizar los mejores modelos â€“ `optimize_model.py`

```bash
python optimize_model.py
```

Este script:

- Identifica los dos mejores modelos con mayor RÂ² Score (Gradient Boosting y Random Forest).
- Aplica **validaciÃ³n cruzada** (`cv=5`) para una evaluaciÃ³n mÃ¡s robusta.
- Ejecuta **ajuste de hiperparÃ¡metros** usando `GridSearchCV`.
- Imprime los mejores parÃ¡metros encontrados y el RÂ² promedio optimizado.
- Guarda los modelos optimizados como:
  - `gradient_boosting_optimized.pkl`
  - `random_forest_optimized.pkl`

ğŸ“ **Resultado esperado**:
- Modelos mejorados en `modelos/`
- RÂ² optimizado superior al entrenamiento base.

---

### 3. Visualizar resultados â€“ `visualizar_resultados.py`

```bash
python visualizar_resultados.py
```

Este script:

- Lee el archivo `resultados_modelos.csv`.
- Genera un grÃ¡fico de barras comparando el **RÂ² Score** de los 5 modelos.
- Guarda automÃ¡ticamente la imagen del grÃ¡fico en la carpeta `graficos/` con fecha y hora en el nombre.

ğŸ“ **Resultado esperado**:
- Carpeta `graficos/` con una imagen `.png` como `grafico_dataset_YYYYMMDD_HHMMSS.png`.

---

### 4. Realizar predicciones manuales â€“ `api.py`

```bash
python api.py
```

Este script interactivo permite realizar predicciones desde consola de manera intuitiva:

- Muestra un menÃº con todos los modelos disponibles en la carpeta modelos/ (incluyendo versiones optimizadas).
- Permite al usuario seleccionar quÃ© modelo desea utilizar para la predicciÃ³n.
- Solicita al usuario 5 datos clave para la estimaciÃ³n de ventas: precio, promociÃ³n, temporada, mes y dÃ­a.
- Carga automÃ¡ticamente el modelo seleccionado.
- Realiza la predicciÃ³n y muestra en pantalla el nÃºmero estimado de unidades vendidas.

ğŸ§  Este paso simula cÃ³mo se utilizarÃ­a el modelo ya entrenado en un entorno de consulta real.

ğŸ“ˆ **Resultado esperado**:
- Un mensaje en consola como: `ğŸ“ˆ Ventas estimadas: 16.2 unidades`

---

## ğŸ³ Uso con Docker (opcional)

### Construir imagen

```bash
docker build -t predictor_usc .
```

### Ejecutar contenedor

```bash
docker run -it predictor_usc
```

---

## ğŸ‘¨â€ğŸ’» Autores

- **David Alfonso Vega Palacio**  
- **Manuel Alejandro Mena LÃ³pez**  
- **Joan AndrÃ©s BuriticÃ¡ Salazar**  
**Universidad Santiago de Cali**  
*MaestrÃ­a en InformÃ¡tica*